<!DOCTYPE html>
<html>
	<head>
		<meta charet="utf-8">
		<title>jsLesson</title>
	</head>
	<body>
		<button class="select">赤を持つ</button>
		<button class="select">緑を持つ</button>
		<button class="select">青を持つ</button>
		<button onclick="writePen()">書く</button>
		<p id="info"></p>
<script>
	//domの取得は最初にやっておいたほうがいい
	const bts=document.querySelectorAll('.select');
	const info=document.getElementById('info');
	class ColorPen{
			constructor(color,length){
					this.color=color;
					this.length=length;
			}
			write(){
					let msg='';
					if(this.length<=0){
							msg='もう書けません';
					}else{
							this.length-=0.5;
							msg=this.color+'で書いた。残りの長さ'+this.length;
					}
					return msg;
			}
	}
	let pens=[
			new ColorPen('赤',10),
			new ColorPen('緑',10),
			new ColorPen('青',10)
		];
	let pen=null;
	for(let i=0;i<bts.length;i++){
			bts[i].addEventListener('click',()=>{
					pen=pens[i];
					info.textContent=pen.color+'を持った。';
			});
	}
	const writePen=()=>{
			let msg='';
			if(pen==null){
					msg='ペンを持ってください！';
			}else{
					msg=pen.write();
			}
			info.textContent=msg;
	};
</script>
	</body>
</html>

